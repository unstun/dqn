{
  "_meta": {
    "title": "Train progress logging smoke (forest_a CNN-DDQN + DQfD)",
    "date": "2026-02-08",
    "summary": "Smoke profile to verify stage-level progress output in train.py, including demo collection, demo pretrain, per-algo timing, and RL episode progress.",
    "commands": [
      "conda run -n ros2py310 python train.py --profile repro_20260208_train_progress_logging_smoke",
      "conda run -n ros2py310 python train.py --profile repro_20260208_forest_a_cnn_ddqn_dqfd_astar_mpc_curveopt_300_stable21"
    ],
    "metrics": [
      "stderr progress lines: demo collect/prefill/pretrain/RL/env/algo elapsed time",
      "training artifacts generated under runs/<out>/train_<timestamp>/"
    ],
    "change_points": [
      "Added unified progress writer and elapsed-time formatter.",
      "Added stage progress logs for demo collection, prefill, pretrain, and RL loop.",
      "Added env/algo-level start/end logs in main training loop."
    ]
  },
  "train": {
    "envs": [
      "forest_a"
    ],
    "out": "repro_20260208_train_progress_logging_smoke",
    "rl_algos": [
      "cnn-ddqn"
    ],
    "demo_mode": "dqfd",
    "dqfd_n_step": 10,
    "dqfd_lambda_n": 1.0,
    "dqfd_l2": 1e-05,
    "per_alpha": 0.4,
    "per_beta0": 0.6,
    "per_beta_steps": 0,
    "per_eps_agent": 0.001,
    "per_eps_demo": 1.0,
    "episodes": 8,
    "max_steps": 600,
    "train_freq": 4,
    "learning_starts": 50,
    "forest_expert": "astar_mpc",
    "forest_astar_opt_enable": true,
    "forest_astar_opt_max_replans": 80,
    "forest_astar_opt_resample_ds_m": 0.2,
    "forest_astar_opt_collision_step_m": 0.1,
    "forest_astar_opt_shortcut_passes": 2,
    "forest_astar_timeout": 5.0,
    "forest_astar_max_expanded": 1000000,
    "forest_mpc_horizon_steps": 10,
    "forest_mpc_candidates": 256,
    "forest_mpc_dt_s": 0.0,
    "forest_mpc_w_u": 0.05,
    "forest_mpc_w_du": 0.5,
    "forest_mpc_w_pos": 6.0,
    "forest_mpc_w_yaw": 1.2,
    "forest_mpc_align_dist_m": 1.5,
    "forest_mpc_collision_padding_m": 0.0,
    "forest_mpc_goal_lookahead_steps": 2,
    "forest_random_start_goal": false,
    "forest_curriculum": false,
    "forest_rand_min_dist_m": 6.0,
    "forest_rand_max_dist_m": 0.0,
    "forest_rand_edge_margin_m": 3.0,
    "forest_rand_fixed_prob": 0.0,
    "forest_rand_tries": 200,
    "forest_demo_prefill": true,
    "forest_demo_pretrain_steps": 600,
    "forest_demo_pretrain_eval_every": 200,
    "forest_demo_pretrain_val_runs": 4,
    "forest_demo_pretrain_early_stop_sr": 0.75,
    "forest_demo_pretrain_early_stop_patience": 2,
    "forest_expert_exploration": false,
    "forest_action_shield": true,
    "forest_action_delta_dot_bins": 21,
    "forest_action_accel_bins": 21,
    "goal_tolerance_m": 1.0,
    "goal_angle_tolerance_deg": 180.0,
    "goal_stop_speed_m_s": 0.1,
    "goal_stop_delta_deg": 3.0,
    "replay_stratified": false,
    "replay_frac_demo": 0.1,
    "replay_frac_goal": 0.2,
    "replay_frac_stuck": 0.2,
    "replay_frac_hazard": 0.2,
    "replay_near_goal_factor": 2.0,
    "replay_hazard_od_m": 0.4,
    "save_ckpt": "final",
    "device": "auto",
    "seed": 0,
    "progress": true
  }
}
